{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\sijav\\\\OneDrive\\\\Documents\\\\Bureau\\\\14.08 12.33\\\\14.08 12.33\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef } from 'react';\nimport { Card, CardContent, makeStyles, Grid, TextField, Button } from '@material-ui/core';\nimport QRCode from 'qrcode';\nimport QrReader from 'react-qr-reader';\nimport logo from './bf.png';\n\nvar crypto = require('crypto');\n\nfunction App() {\n  _s();\n\n  const [text, setText] = useState('');\n  const [imageUrl, setImageUrl] = useState('');\n  const [scanResultFile, setScanResultFile] = useState('');\n  const [scanResultWebCam, setScanResultWebCam] = useState('');\n  const classes = useStyles();\n  const qrRef = useRef(null);\n  const [text2, setText2] = useState('');\n  var [txt] = useState('');\n  var [txt2] = useState('');\n  var [verif] = useState('');\n\n  var crypto = require('crypto');\n\n  const generateQrCode = async () => {\n    try {\n      txt2 = \"\\n\" + \" full name : \" + text + \" \\n blood type  : \" + text2; // txt2 = text+ text2 \n\n      var mykey = crypto.createCipher('aes-128-cbc', txt2);\n      var mystr = mykey.update('abc', 'utf8', 'hex');\n      mystr += mykey.final('hex');\n      txt = txt2 + \"\\n code : \" + mystr; //  txt = txt2+ mystr\n\n      console.log(mystr);\n      const response = await QRCode.toDataURL(txt);\n      setImageUrl(response);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleErrorFile = error => {\n    console.log(error);\n  };\n\n  const handleScanFile = result => {\n    if (result) {\n      setScanResultFile(result);\n    }\n  };\n\n  const onScanFile = () => {\n    qrRef.current.openImageDialog();\n  };\n\n  const handleErrorWebCam = error => {\n    console.log(error);\n  };\n\n  const handleScanWebCam = result => {\n    if (result) {\n      // setScanResultWebCam(result);\n      let string = result;\n      const info = string.split(\" \");\n      let fullname = info[4];\n      let blood = info[10];\n      const b = blood.split(\"\\n\");\n      const bl = b[0];\n      let code = info[13]; // var mykey = crypto.createDecipher('aes-128-cbc', \"\\n\"+\" full name : \" + fullname + \" \\n blood type  : \" +blood  + \"\\n\");\n      // var mystr = mykey.update(code, 'hex', 'utf8')\n      // // mystr += mykey.final('utf8');\n      // mystr += mykey.final('hex');\n\n      txt2 = \"\\n\" + \" full name : \" + fullname + \" \\n blood type  : \" + bl; // txt2 = text+ text2 \n\n      var mykey = crypto.createCipher('aes-128-cbc', txt2);\n      var mystr = mykey.update('abc', 'utf8', 'hex');\n      mystr += mykey.final('hex');\n\n      if (mystr === code) {\n        verif = \"\\n Thanks for trusting us for your scan\";\n      } else {\n        verif = \" \\n Try our scanner\";\n      }\n\n      setScanResultWebCam(txt2 + \"\\n\" + verif);\n    }\n  };\n\n  function genr() {\n    document.getElementById('ff').setAttribute('style', 'display:none');\n    document.getElementById('dd').removeAttribute('style');\n    document.getElementById('d').removeAttribute('style');\n  }\n\n  function scn() {\n    document.getElementById('dd').setAttribute('style', 'display:none');\n    document.getElementById('d').setAttribute('style', 'display:none');\n    document.getElementById('ff').removeAttribute('style');\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '100%',\n      display: 'flex',\n      alignItems: 'center',\n      flexDirection: 'column'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.navbar,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: classes.img,\n        src: logo,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        onClick: genr,\n        className: classes.el,\n        children: \"QR code generator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        onClick: scn,\n        className: classes.el,\n        children: \"QR code scanner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.w,\n      id: \"dd\",\n      children: /*#__PURE__*/_jsxDEV(QrReader, {\n        delay: 300,\n        onError: handleErrorWebCam,\n        onScan: handleScanWebCam\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 4\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      id: \"d\",\n      className: classes.b,\n      children: [\"Scan result: \", scanResultWebCam]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"ff\",\n      style: {\n        display: 'none'\n      },\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        label: \"full name\",\n        onChange: e => setText(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"blood type \",\n        onChange: e => setText2(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: classes.btn,\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: () => generateQrCode(),\n        children: \"Generate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 29\n      }, this), imageUrl ? /*#__PURE__*/_jsxDEV(\"a\", {\n        href: imageUrl,\n        download: true,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          style: {\n            width: '69%',\n            marginLeft: '35px'\n          },\n          src: imageUrl,\n          alt: \"img\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 35\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 31\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"yo7xF0RvZlhRcZR0ou42BNIFokk=\", false, function () {\n  return [useStyles];\n});\n\n_c = App;\nconst useStyles = makeStyles(theme => ({\n  conatiner: {\n    marginTop: 10\n  },\n  title: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    background: '#3f51b5',\n    color: '#fff',\n    padding: 20\n  },\n  btn: {\n    marginTop: 10,\n    marginBottom: 20\n  },\n  r: {\n    backgroundColor: 'red',\n    width: '500px',\n    height: '100px'\n  },\n  img: {\n    cursor: 'pointer',\n    width: '7%'\n  },\n  navbar: {\n    display: 'flex',\n    width: '90%',\n    alignItems: 'center',\n    marginTop: '10px'\n  },\n  el: {\n    margin: \"0 8%\",\n    color: \"#1e7f9d\",\n    fontSize: \"20px\",\n    fontWeight: \"500\",\n    cursor: \"pointer\"\n  },\n  w: {\n    width: '30%'\n  },\n  b: {\n    color: 'rgb(19, 80, 131)'\n  }\n}));\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/sijav/OneDrive/Documents/Bureau/14.08 12.33/14.08 12.33/src/App.js"],"names":["React","useState","useRef","Card","CardContent","makeStyles","Grid","TextField","Button","QRCode","QrReader","logo","crypto","require","App","text","setText","imageUrl","setImageUrl","scanResultFile","setScanResultFile","scanResultWebCam","setScanResultWebCam","classes","useStyles","qrRef","text2","setText2","txt","txt2","verif","generateQrCode","mykey","createCipher","mystr","update","final","console","log","response","toDataURL","error","handleErrorFile","handleScanFile","result","onScanFile","current","openImageDialog","handleErrorWebCam","handleScanWebCam","string","info","split","fullname","blood","b","bl","code","genr","document","getElementById","setAttribute","removeAttribute","scn","width","display","alignItems","flexDirection","navbar","img","el","w","e","target","value","btn","marginLeft","theme","conatiner","marginTop","title","justifyContent","background","color","padding","marginBottom","r","backgroundColor","height","cursor","margin","fontSize","fontWeight"],"mappings":"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","sourcesContent":["import React, {useState, useRef} from 'react';\nimport { Card, CardContent, makeStyles, Grid, TextField, Button} from '@material-ui/core';\nimport QRCode from 'qrcode';\nimport QrReader from 'react-qr-reader';\n\nimport logo from './bf.png';\n  var crypto = require('crypto');\n\n\nfunction App() { \n  const [text, setText] = useState('');\n  const [imageUrl, setImageUrl] = useState('');\n  const [scanResultFile, setScanResultFile] = useState('');\n  const [scanResultWebCam, setScanResultWebCam] =  useState('');\n  const classes = useStyles();\n  const qrRef = useRef(null);\n  \n  const [text2, setText2] = useState('');\n\n  var [txt] = useState('');\n  var [txt2] = useState('');  \n  var [verif] = useState(''); \n  var crypto = require('crypto');\n\n\n\n  const generateQrCode = async () => {\n    try {\n            txt2 = \"\\n\"+\" full name : \" + text + \" \\n blood type  : \" +text2  \n    // txt2 = text+ text2 \n    var mykey = crypto.createCipher('aes-128-cbc', txt2);\nvar mystr = mykey.update('abc', 'utf8', 'hex')\nmystr += mykey.final('hex');\n txt = txt2 + \"\\n code : \" + mystr\n//  txt = txt2+ mystr\n\nconsole.log(mystr);\n          const response = await QRCode.toDataURL(txt);\n          setImageUrl(response);\n    }catch (error) {\n      console.log(error);\n    }\n  }\n  const handleErrorFile = (error) => {\n    console.log(error);\n  }\n  const handleScanFile = (result) => {\n      if (result) {\n          setScanResultFile(result);\n      }\n  }\n  const onScanFile = () => {\n    qrRef.current.openImageDialog();\n  }\n  const handleErrorWebCam = (error) => {\n    console.log(error);\n  }\n  const handleScanWebCam = (result) => {\n\n    if (result){\n      \n      // setScanResultWebCam(result);\n    \n      let string = result\n      const info = string.split(\" \");\n      let fullname = info[4]\n      let blood = info[10]\n      \n      const b = blood.split(\"\\n\");\n      const bl = b[0]\n      \n      let code = info[13]\n      // var mykey = crypto.createDecipher('aes-128-cbc', \"\\n\"+\" full name : \" + fullname + \" \\n blood type  : \" +blood  + \"\\n\");\n      // var mystr = mykey.update(code, 'hex', 'utf8')\n      // // mystr += mykey.final('utf8');\n      // mystr += mykey.final('hex');\n      txt2 = \"\\n\"+\" full name : \" + fullname + \" \\n blood type  : \" +bl \n      // txt2 = text+ text2 \n      var mykey = crypto.createCipher('aes-128-cbc', txt2);\n      var mystr = mykey.update('abc', 'utf8', 'hex')\n      mystr += mykey.final('hex');\n      if(mystr === code){\n         verif = \"\\n Thanks for trusting us for your scan\"\n\n      }\n      else{\n         verif = \" \\n Try our scanner\"\n      }\n\n\n      setScanResultWebCam(txt2 +\"\\n\"+ verif);\n\n\n\n  }\n\n\n\n   }\nfunction genr(){\n  document.getElementById('ff').setAttribute('style','display:none')\n\n\n  \n  document.getElementById('dd').removeAttribute('style')\n  document.getElementById('d').removeAttribute('style')\n\n}\n\nfunction scn(){\n  document.getElementById('dd').setAttribute('style','display:none')\n  document.getElementById('d').setAttribute('style','display:none')\n\n  document.getElementById('ff').removeAttribute('style')\n\n\n}\n\n  return (\n    <div style={{width:'100%',display:'flex',alignItems: 'center',flexDirection:'column'}}>\n          <div className={classes.navbar} >\n      <img  className={classes.img} src={logo} alt=\"\"></img>\n      <p onClick={genr} className={classes.el} >QR code generator</p>\n      <p onClick={scn} className={classes.el} >QR code scanner</p>\n    </div>\n   <div  className={classes.w}  id='dd'>\n   <QrReader \n                         delay={300}\n                         onError={handleErrorWebCam}\n                         onScan={handleScanWebCam}\n                         />\n   </div>\n    \n   <h3 id='d'  className={classes.b}  >Scan result: {scanResultWebCam}</h3>\n\n\n\n\n\n<div id='ff' style={{display:'none'}}>\n                          <TextField label=\"full name\" onChange={(e) => setText(e.target.value)}/>\n                          <br/>\n                          <TextField label=\"blood type \" onChange={(e) => setText2(e.target.value)}/>\n                          <Button className={classes.btn} variant=\"contained\" \n                            color=\"primary\" onClick={() => generateQrCode()}>Generate</Button>\n                            <br/>\n                            <br/>\n                            <br/>\n                            {imageUrl ? (\n                              <a href={imageUrl} download>\n                                  <img style={{width:'69%',marginLeft: '35px'}} src={imageUrl} alt=\"img\"/>\n                              </a>) : null}\n\n</div>\n\n\n\n\n          \n    </div>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    conatiner: {\n      marginTop: 10\n    },\n    title: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems:  'center',\n      background: '#3f51b5',\n      color: '#fff',\n      padding: 20\n    },\n    btn : {\n      marginTop: 10,\n      marginBottom: 20\n    },\n    r:{\n      backgroundColor: 'red',\n      width: '500px',\n      height:'100px'\n    },\n    img:{\n      cursor:'pointer',\n      width: '7%',\n  },\n  navbar:{\n    display: 'flex',\n    width: '90%',\n    alignItems: 'center',\n    marginTop: '10px'\n},\nel:{\n  margin: \"0 8%\",color: \"#1e7f9d\", fontSize: \"20px\", fontWeight: \"500\",cursor:\"pointer\"\n},\nw:{\n  width: '30%',\n},\nb:{\n  color:'rgb(19, 80, 131)'\n}\n\n\n}));\nexport default App;\n"]},"metadata":{},"sourceType":"module"}